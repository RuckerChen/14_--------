# 高性能微电网光伏系统故障检测界面

![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![Chart.js](https://img.shields.io/badge/Chart.js-FF6384?style=for-the-badge&logo=chartdotjs&logoColor=white)
![Font Awesome](https://img.shields.io/badge/Font_Awesome-528DD7?style=for-the-badge&logo=fontawesome&logoColor=white)

## 📋 项目简介

这是一个用于**台湾彰化北斗地区微电网**的高性能光伏系统故障检测与监控界面。系统提供实时监控、故障诊断、性能分析和操作控制功能，帮助运维人员快速识别和处理光伏系统故障，确保系统安全高效运行。

### 系统特点
- **实时监控**: 实时显示光伏系统关键性能指标(KPI)
- **智能诊断**: 集成多种故障检测算法，自动识别系统异常
- **可视化分析**: 丰富的图表和热力图展示系统状态
- **快速响应**: 一键式快速操作，支持紧急关断和I-V扫描
- **专业报告**: 自动生成系统运行报告和故障分析

## 🚀 主要功能

### 1. 全场概览视图
- 系统关键性能指标(KPI)实时显示
- 环境数据监控（辐照度、温度、湿度、风速）
- 能量流向拓扑图动画展示
- 实时报警状态和确认功能

### 2. 组串级控制
- 逆变器和组串状态监控
- 设备性能参数详细展示
- 设备选择和高亮显示
- 组串级操作控制

### 3. 故障深度诊断
- 多算法故障检测（EWMA、随机森林、CNN-LSTM、小波变换）
- 故障特征分析和置信度显示
- AI智能诊断建议
- 历史故障记录和趋势分析

### 4. 支持与配置
- 系统参数配置
- 传感器校准管理
- 数据备份和导出
- 维护指南和操作手册

### 5. 快速操作面板
- **快速关断**: 紧急情况下30秒内安全关断系统
- **I-V扫描**: 执行I-V曲线扫描，检测组件性能
- **报告生成**: 生成日报、周报、月报等各类报告
- **AI诊断**: 启动AI智能故障诊断流程

## 🛠️ 技术栈

### 前端技术
- **HTML5**: 语义化标签，结构化内容
- **CSS3**: 自定义属性，Flexbox/Grid布局，动画效果
- **JavaScript (ES6+)**: 模块化设计，面向对象编程
- **Chart.js**: 数据可视化，实时图表更新
- **Font Awesome**: 图标库，增强用户体验

### 设计规范
- **ISA-101标准**: 遵循工业自动化系统界面设计标准
- **响应式设计**: 支持桌面端和移动端访问
- **无障碍访问**: 考虑视觉障碍用户的使用体验
- **暗色模式**: 支持系统级暗色模式

## 📁 项目结构

```
14_故障诊断演示界面/
├── index.html              # 主页面入口
├── styles.css             # 主样式文件
├── app.js                 # 主应用逻辑
├── data.js                # 模拟数据定义
├── charts.js              # 图表配置和初始化
├── chart-fallback.js      # Chart.js降级方案
├── components/            # 组件目录
│   ├── overview.js       # 全场概览组件
│   ├── unit-control.js   # 组串控制组件
│   ├── detail-view.js    # 故障诊断组件
│   └── support-view.js   # 支持配置组件
└── .vscode/              # VSCode配置目录
```

## 🚀 安装和运行

### 环境要求
- 现代浏览器（Chrome 90+、Firefox 88+、Edge 90+）
- 网络连接（用于加载CDN资源）

### 快速开始
1. **克隆或下载项目**
   ```bash
   git clone <repository-url>
   cd 14_故障诊断演示界面
   ```

2. **直接运行**
   - 双击 `index.html` 文件
   - 或使用本地服务器运行：
     ```bash
     # 使用Python简单HTTP服务器
     python -m http.server 8000
     
     # 或使用Node.js http-server
     npx http-server
     ```

3. **访问应用**
   - 打开浏览器访问 `http://localhost:8000`

### 开发模式
项目使用纯前端技术，无需编译或构建过程。修改代码后刷新页面即可看到效果。

## 📖 使用说明

### 界面布局
1. **顶部导航栏**
   - 系统Logo和位置信息
   - 视图切换标签（全场概览、组串控制、故障诊断、支持配置）
   - 系统状态和时间显示

2. **报警栏**
   - 实时显示系统报警信息
   - 紧急报警闪烁提示
   - 报警确认按钮

3. **主内容区**
   - 根据当前视图显示相应内容
   - 卡片式布局，信息层次清晰
   - 交互式图表和数据表格

4. **快速操作面板**
   - 固定在右下角的圆形按钮组
   - 提供常用操作的快捷入口

### 操作流程
1. **监控系统状态**
   - 进入"全场概览"视图查看整体运行情况
   - 关注KPI指标和报警信息

2. **诊断故障**
   - 切换到"故障诊断"视图
   - 查看AI诊断结果和建议
   - 分析故障特征和趋势

3. **执行操作**
   - 使用快速操作按钮执行紧急操作
   - 在"组串控制"视图管理具体设备
   - 在"支持配置"视图进行系统设置

## 🔍 故障检测算法

系统集成多种先进的故障检测算法：

| 算法 | 准确率 | 响应时间 | 状态 | 特点 |
|------|--------|----------|------|------|
| EWMA统计图 | 88.5% | 50ms | 活跃 | 实时性好，适合快速检测 |
| 随机森林(RF) | 91.2% | 120ms | 活跃 | 准确率高，适合复杂故障 |
| CNN-LSTM混合 | 95.4% | 350ms | 活跃 | 深度学习，最高准确率 |
| 小波变换(WT) | 90.1% | 150ms | 待机 | 频域分析，适合周期性故障 |

### 故障类型检测
- **阴影遮挡**: 光伏组件被阴影部分或完全遮挡
- **PID效应**: 电势诱导衰减导致组件性能下降
- **盐雾腐蚀**: 沿海盐雾环境导致的金属腐蚀
- **接线松动**: 电缆连接点松动导致接触电阻增加
- **电弧故障**: 直流侧电弧放电危险（紧急）

## 📊 数据模型

### 系统数据结构
```javascript
{
  systemInfo: {        // 系统基本信息
    name: "彰化北斗微电网光伏系统",
    location: "台湾彰化县北斗镇",
    capacity: 5.2,     // MW
    // ...
  },
  environment: {       // 环境数据
    irradiance: 850,   // W/m²
    temperature: 28.5, // °C
    // ...
  },
  kpis: {              // 关键性能指标
    totalPower: 4.12,  // MW
    dailyGeneration: 28.4, // MWh
    // ...
  },
  alarms: {            // 报警状态
    active: 3,
    critical: 1,
    list: [...]
  },
  devices: {           // 设备状态
    inverters: [...],
    strings: [...],
    sensors: {...}
  },
  faultDetection: {    // 故障检测数据
    algorithms: [...],
    recentFaults: [...]
  }
}
```

### 模拟数据
项目包含完整的模拟数据系统，模拟：
- 5台逆变器（1台故障状态）
- 多个光伏组串
- 环境传感器数据
- 历史性能数据
- 故障记录和报警

## 🎨 界面设计

### 设计原则
1. **清晰性**: 信息层次分明，重点突出
2. **一致性**: 统一的视觉风格和交互模式
3. **响应性**: 适应不同屏幕尺寸和设备
4. **可访问性**: 考虑色盲用户和高对比度需求

### 颜色系统
- **正常状态**: #2D862D (绿色)
- **紧急状态**: #FF0000 (红色)
- **高优先级**: #FF8C00 (橙色)
- **中优先级**: #FFD700 (黄色)
- **低优先级**: #00BFFF (蓝色)
- **信息状态**: #007BFF (深蓝色)

### 动画效果
- **能量流动动画**: 展示电能传输路径
- **状态脉冲动画**: 突出显示活跃状态
- **平滑过渡**: 视图切换和数据显示
- **加载动画**: 数据加载和操作执行

## 🔧 开发指南

### 代码规范
- 使用有意义的变量和函数名
- 添加必要的注释说明
- 遵循模块化设计原则
- 错误处理和边界条件检查

### 扩展功能
1. **添加新视图**
   - 在 `components/` 目录创建新组件
   - 在 `app.js` 中注册新视图
   - 在 `index.html` 中添加导航标签

2. **添加新图表**
   - 在 `charts.js` 中定义图表配置
   - 在相应组件中调用图表初始化
   - 确保数据格式匹配

3. **连接真实数据**
   - 修改 `data.js` 中的数据源
   - 实现API数据获取和更新
   - 添加数据验证和错误处理

### 调试技巧
- 使用浏览器开发者工具
- 查看控制台日志输出
- 利用断点调试JavaScript代码
- 检查网络请求和响应

## 📱 响应式设计

系统支持多种设备尺寸：

### 桌面端 (≥1200px)
- 四列网格布局
- 完整导航栏和侧边栏
- 大尺寸图表和数据表格

### 平板端 (768px-1199px)
- 两列网格布局
- 简化导航结构
- 适中尺寸图表

### 移动端 (<768px)
- 单列垂直布局
- 折叠式导航菜单
- 触摸友好的按钮和交互
- 简化图表显示

## 🛡️ 安全特性

### 前端安全措施
- 输入验证和过滤
- XSS攻击防护
- 敏感信息保护
- 安全通信提示

### 操作安全
- 危险操作确认对话框
- 操作进度跟踪和反馈
- 操作撤销和恢复机制
- 操作日志记录

## 📈 性能优化

### 加载性能
- 资源按需加载
- 图表库延迟加载
- 图片和资源优化
- 浏览器缓存利用

### 运行时性能
- 事件委托减少监听器数量
- 防抖和节流处理频繁操作
- 虚拟滚动处理大数据量
- 内存泄漏预防

## 🔄 更新日志

### v1.0.0 (当前版本)
- 初始版本发布
- 四大核心视图功能
- 完整的故障检测系统
- 响应式设计支持

### 计划功能
- [ ] 实时数据推送
- [ ] 多语言支持
- [ ] 用户权限管理
- [ ] 移动端应用
- [ ] 离线模式支持

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出建议：

1. **报告问题**
   - 使用Issue模板提交问题
   - 提供详细的重现步骤
   - 包含相关截图或日志

2. **提交代码**
   - Fork项目并创建功能分支
   - 遵循现有代码风格
   - 添加测试用例
   - 提交Pull Request

3. **文档改进**
   - 修正错误或过时信息
   - 添加使用示例
   - 改进文档结构

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 📞 联系信息

如有问题或建议，请通过以下方式联系：

- **项目维护者**: 系统开发团队
- **技术支持**: 台湾电力公司运维部门
- **应用场景**: 光伏电站监控与故障诊断

---

**免责声明**: 本系统为演示用途，实际生产环境需进行充分测试和验证。操作光伏系统时请遵循相关安全规范和专业指导。

**最后更新**: 2024年1月15日

**系统状态**: 🟢 在线运行